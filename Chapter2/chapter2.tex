%!TEX root = ../thesis.tex
%*******************************************************************************
%****************************** Second Chapter *********************************
%*******************************************************************************
\chapter{関連研究}
\graphicspath{{Chapter2/Figs/}}

%
% Automatic programming exercises generation based on a template-based approach
%
\section{プログラミング演習問題の自動生成}
プログラミング演習問題はソフトウェア開発に関するスキル向上を目指して，プログラミング教育において広く利用されている~\cite{felder1988learning}．
しかし，一般的にプログラミング演習問題の作成は時間がかかる上に，専門知識を必要とするため，多様な演習問題を数多く作成することは大変な労力を必要とする~\cite{Algorithm_Visualization_in_CS_Education,Guo_Codeopticon}．
そこで，プログラミング演習問題を自動的に生成する手法が研究されている．
Pradosらは，テンプレートの書き換えによるプログラミング演習問題の自動生成システムを開発した~\cite{prados_automatic_exercise_generation}．
このシステムでは，ユーザが登録したテンプレートとなるソースコード内の変数の値や関数の入力を異なる値に書き換えることで，プログラミング演習問題を自動的に生成する．
同様の手法により，Sadighらは，プログラミングに関する教科書の例題を活用し，演習問題を自動生成する手法を開発した~\cite{Sadigh_automatic_exercise_generation}．
このシステムでは教科書の例題を抽象化することで，演習問題のテンプレートを作成しており，Pradosらのシステムと同様にテンプレートの値を書き換えることで，演習問題を生成している．
O'Rourkeらは，加減乗除を実行するプログラムからインタラクティブなプログラミング学習材料を自動生成するシステムを開発した~\cite{O'Rourke_Scaffolding_CHI15}．
本システムでは，加減乗除を筆算により計算する様子を示すインターフェースが提示される．
プログラムの各行とシステム上の構成要素が紐づけられているため，プログラムの動作を段階的に表現することが可能となっている．

上記の手法とは異なり，本研究はGitHub上に実在するイシューとプルリクエストのデータを転用することにより，プログラミング演習問題を生成することを目指す．
同時に，GitHub上のデータを利用することにより，一般的な教科書では扱われていない内容を学ぶことができるプログラミング演習問題を学習者に提供することを目指している．

% Unlike the work above, we investigate the feasibility of using real issue and pull request data on GitHub to generate programming exercises.
% Another goal of our work is to understand how programming exercises created by our approach would cover content that is not commonly seen in textbooks.



\section{オンラインの情報を活用したプログラミング学習支援}

% Online learning becomes common in programming learning. 
% Web-based learning systems can lower the burden of preparing coding environments.
% Python Tutor developed by Guo~\cite{PythonTutor} is a web-based tool for Python learning where users can view variables and their contents at the user-selected execution point.
% Other online learning services also offer an environment where users can directly write and test their code along with tutorials.

%
% Programming learning using Q&A websites, such as Stack Overflow.
%

Stack Overflow\footnote{\url{https://stackoverflow.com/}}などに代表されるオンラインコミュニティでは，プログラミングに関する質問やその回答となるコードが共有されており，多くのソフトウェア開発者にとって有益な学習素材となっている~\cite{Mamykina_Design_SO}．
そこでSubramanianら~\cite{Live_in_Documentation}は，APIとStack Overflow上の投稿のコード例を紐付けるアルゴリズムを実装した．
またTreudeら\cite{Augmenting_API_Documentation}は，教師あり学習を用いてStack Overflowからユーザのソースコードに関連する情報を抽出する手法を実装し，教師なし学習を用いた手法と比較してより多くの有用な情報をStack Overflowから抽出できることを明らかにした．

Stack Overflowはプログラミング学習において有用な情報源となりうる可能性があるが，ユーザが学習している内容と関連する投稿を検索するには手間がかかる~\cite{study_SO}．
そこでGottipatiらは，プログラミングに関するオンラインコミュニティ上での投稿を，説明文及び投稿のタグを解析することで分類するモデルを実装した~\cite{Gottipati_finding_resource}．
モデルの精度評価を行った結果，学習内容に関連する投稿を通常の検索エンジンと比較してより素早く見つけることができることが明らかとなった．
Sillitoらは，プログラミング学習に有用な投稿を定義するために，Stack Overflowにおいて質問投稿者が最も優れているとして選択された回答の特徴を分析した~\cite{StackOverflowCodeExample}．
その結果，簡単なコードの例があることと背景知識が明確に記されていることが，有用だと評価を受けた回答の特徴であることを明らかにした．


% Online programming communities (e.g., StackOverflow\footnote{\url{https://stackoverflow.com/}}) share questions and possible code solutions, which can serve as a learning resource for non-expert programmers.
% Prior work has revealed that developers often read on these websites to learn an API method or a programming language~\cite{Mamykina_Design_SO}.
% However, finding helpful posts can be time-consuming, especially in large websites.
% Gottipati et al.~\cite{Gottipati_finding_resource} built a text classification model on different types of entries in software Q\&A websites, and showed that their tool outperforms normal search engines in finding relevant posts to given queries.
% Sillito et al.~\cite{StackOverflowCodeExample} found that both concise code examples and clearly-described backgrounds in posts determine perceived helpfulness.
% They found that both concise code examples and \koji{use of a question context}{not sure what you mean} determines the helpfulness.


%
% Programming learning using online source code. Code search engines, such as searchcode and GitHub
%

コメントや質問・回答以外に，実際のソースコードもプログラミング学習のための情報源の一つであり，多くの人がオンライン上のソースコードを活用してプログラミング学習を行っている~\cite{Brandt:2009:TSO:1518701.1518944}．
XieとPeiによって実装され~\cite{MAPO}，Zhongらによって拡張されたMAPO~\cite{extended_MAPO}では，コード検索エンジン（~searchcode\footnote{\url{https://searchcode.com/}}やGitHubなど）から取得したコードを用いて，APIの使用例を抽出することができる．
MAPOは文字列の類似度を分析することでAPIの使用例を分類し，その使用例に優先順位を付けた上でユーザに推薦することが可能となっている．
また，FowkesとSuttonはパラメータの調整が不要な確率的モデルを用いることで，APIの使用例を抽出する手法を構築した~\cite{GitHubAPIMining}．
そのモデルをGitHubのコード検索と比較した結果，より高い精度で関連するAPIの使用例を抽出することができると分かった．
% Actual source code can be another resource for learning.
% MAPO, built by Xie and Pei~\cite{MAPO} and extended by Zhong et al.~\cite{extended_MAPO}, mines API usage patterns from code snippets extracted through code search engines.
% %(e.g., searchcode~\footnote{\url{https://searchcode.com/}} and GitHub~\footnote{\url{https://github.com/explore}}).
% MAPO clusters API method usage based on string similarity, and prioritizes for recommendations.
% Fowkes and Sutton~\cite{GitHubAPIMining} built a new API mining algorithm using parameter-free probabilistic modeling.
% Their approach significantly outperformed existing algorithms at retrieving relevant API call sequences from GitHub.

% プログラミング学習だけでなく，ソフトウェア開発者の多くが効率的な実装のためにオンライン上のソースコードを参照している．
% しかし，オンラインのソースコードを理解し再利用するにはその背景知識などが必要となる．
% そこでHarmsらは，オンラインのソースコードに対しチュートリアルを自動生成することで，ソースコードの再利用を支援するシステムを開発した~\cite{Harms:2013:AGT:2485760.2485764}．
% システム上でユーザが再利用したいコードを選択すると，その中の変数名が抽象化されると同時に，ユーザのソースコードに組み込むためのチュートリアルが提示される．


上記の先行研究ではコードの検索を改善することでユーザの能動的な情報収集を支援している．
ただし，能動的な検索は明確な学習目標と検索に適したキーワードの知識が必要となる．
RealCodeでは，そのようなキーワードの知識がなくとも，実際のプログラミング開発で行われたコード変更を通した学習をすることができるため，より探索的な学習を支援できると期待される．

% The work above focuses on addressing user's active information seeking by providing improved search methods.
% However, in our main scenario, users are interested in practicing with a broad set of examples.
% We thus need to develop a different approach to extract appropriate code examples for exercise.



% \subsection{オンラインのソースコードを利用した学習支援}

% 現在，多くの人がオンライン上のソースコードを活用してプログラミングの学習を行っている~\cite{Brandt:2009:TSO:1518701.1518944}．
% しかしオンライン上のソースコードは他人によって書かれており，理解するためには様々な障壁がある．
% そこで，学習者がオンラインのソースコードからプログラミングを勉強する際の，情報の検索方法と検索時の障壁に関して調査を行った先行研究が幾つかある．
% Grossらはプログラミング学習におけるオンラインのソースコードの有用性を調査するためにユーザ実験を行なった~\cite{Gross_eup}．
% \shibato{}{}
% 実験参加者は,与えられた入力と出力に対し，入力を受け取るコードと出力を返すコードをオンラインのソースコード上で特定するタスクを行なった．
% その結果初心者のプログラマーにとって，ソースコード全体の仕組みの理解（big picture）と，タスクのために理解すべきコードとそうでない取捨選択が難しいことを明らかにした．

% Grossらはプログラミング経験に乏しいユーザがオンラインのコードを再利用するシステムを開発した~\cite{Gross_code_reuse}．
% このシステムは，ユーザが再利用したいと考えた機能を実現しているコード箇所を特定し，そのコードを第三者でも理解可能なように抽象化することができる．

% Hartmannらは，ウェブサイトのインターフェースと使用しているAPIのドキュメントを関連させることで，インターフェース上でAPIの説明を追加するシステムを開発した~\cite{Hartmann_DMix}．

% Harmsらはオンラインのソースコードに対しチュートリアルを自動生成するシステムを開発した~\cite{Harms:2013:AGT:2485760.2485764}．

\section{APIの学習と活用支援}

多くのソフトウェア開発プロジェクトでは，実装済みのApplication Programming Interfaces~(API)を活用することで，複雑なプログラムの記述を必要とする高度な処理をわずか数行のコードで実装している~\cite{Patterns_for_API_migration}．
しかし，ソフトウェア開発者にとってAPIの使用方法を学習し実装に適用することは多大な労力を必要とする~\cite{robillard2011field}．
そこで，APIの学習と活用を支援するための様々な手法が研究されている．

最も単純なAPIの活用支援として，頻繁に使用されるAPIのリストを表示する手法がある．
統合開発環境内での表示~\cite{Holmes_2008_MSR_Eclipse_APIs}，開発中のソフトウェア内のインターフェースでの表示~\cite{UIST_2009_CommunityCommands}，ドキュメント内での表示~\cite{VLHCC_2009_API_doc_API_usage}といったシステムがこれまでに提案されてきた．
また，提案したAPIが実際に使用されたかどうかを学習データとして用いることで，ユーザに提示するAPIの順序を協調フィルタリングにより改善する研究も行われている~\cite{colab_filtering_api_recommend}．

ソースコード中のAPIの使用例を抽出することで，ユーザにより充実した情報を提供することが可能となる．
Holmesらは，ソースコードからAPIが使用されている箇所をAPIの使用例としてユーザに提示することで，ユーザのAPI活用の理解を支援するシステムを開発した~\cite{Holmes_2006_recommend_api_example}．
Holmesらの手法では，APIに関する情報だけでなく，親クラスや子クラス，関連する関数の情報も提示される．
また，Zhongらが開発したMAPOでは，APIと頻繁に併用される他の関数を特定し提示することも可能となっている~\cite{extended_MAPO}．
Ichincoらが開発したExample Guruは，ユーザのソースコードと関連するAPIを提示する際に，複数の使用例を提示することで，ユーザのより深いAPIの理解を支援するシステムである~\cite{Ichinco_Suggesting_API_Usage}．
それぞれの使用例では異なる引数が使用されており，動作の違いを強調することでAPIの理解を促している．
Bajracharyaらは，文字列の類似度を用いてユーザの検索ワードとAPIを紐付ける手法を実装し，APIの使用例をより正確に抽出できることを確認した~\cite{Bajracharya:2010:LUS}．

ユーザが取り組んでいる作業内容と関連するAPIの学習素材を提供することで，ユーザの適時的な学習を支援する研究も存在する．
Cordeiroらは，ユーザが実装しているAPIに関する投稿をStack Overflowから抽出し，統合開発環境内で提示するシステムを実装した\cite{Cordeiro_2012_extract_QA_SO}．
同様にMatejkaらが開発したAmbientHelpは，ユーザがソースコード中で使用しているAPIと関連するオンラインのドキュメントや動画などを提示することで，ユーザの適時的な学習を支援するシステムである~\cite{Matejka_Ambient_Help}．
AmbientHelpのシステム評価では，ユーザの作業を阻害することなく，2.6倍のプログラミング学習のための有用な情報を提供できることが明らかとなった．
またZolaktafらが開発したCoDisは，ユーザのコマンドの使用履歴から，ユーザがまだ知らないと思われるコマンドを提示するシステムである~\cite{Zolaktaf_Recommending_Commands}．
MAPOと同様にCoDisも，ユーザが使用したコマンドと頻繁に併用されるコマンドを抽出することで，次に学習すべきコマンドを推定している．

既存のソースコード中からAPIを活用できる箇所を特定することで，より簡潔に実装することを支援する手法も提案されている．
Heinemannらは，ソースコード中の変数名や関数名などを解析することで，活用可能と推定されたAPIを提示するシステムを開発した~\cite{Heinemann_Identifier_Based_API_Recommendation}．
例えば``angleDelta''や``getAngle''という名前がコード中に使用されていた場合，システムは``Math.sin ()''や``Math.cos ()''といったAPIの使用を推奨する．
またKawrykowらは，APIによって代替可能な冗長であるコードを検出するシステムを開発した~\cite{Kawrykow_Improving_API_Usage}．
10個のオープンソフトウェアにおける150万行のソースコードを用いたシステム評価の結果，APIによって代替可能なコードを400箇所以上見つけることに成功した．

このようにAPIの学習と活用支援を目的とした様々な手法が提案されてきた．
一方で本研究ではAPIのみならず，実践的なソフトウェア開発において必要な知識を学習することができるプログラミング演習問題を提供することを目的とする．


\section{GitHubのイシューの大規模な分析}

GitHubでは多くのソフトウェア開発プロジェクトがリポジトリとして管理されており，開発上の課題管理ツールとしてイシューが利用されている．
ソフトウェア開発プロセスの理解と改善を目的として，イシューの大規模な分析を行った研究がいくつか報告されている．
Vasilescuらはイシューを開発に導入しているリポジトリの特徴を明らかにするために，GitHub上の223のリポジトリを対象としたデータ分析を行った~\cite{Continuous_Integration_in_a_Social_Coding_World}．
その結果，PythonまたはRubyで開発されているリポジトリの多くが，イシューとプルリクエストを用いた開発を行っていることが分かった．
Mantylaらはイシューの重要性を判定するために， Software Engineering Arousal（SEA）語彙集と，Warrinerらによる一般向けの語彙集を組み合わせた語彙集を作成した~\cite{Mantyla:issue:word:list}．
新たに作成された語彙集を用いて実装されたイシューの重要度判定器は，既存の語彙集を単体で使用した判定器よりも高い判定精度を示した．
Bissyandeらは，イシューのラベルの種類と使用頻度を明らかにするために，10万以上のリポジトリにおけるイシューのラベルの分析を行った~\cite{Bissyande:gh:issues}．
その結果，バグまたは新機能に関するラベルが最も頻繁に使用されていることが明らかとなった．
またKalyanasundaramらは，bootstrapのリポジトリ\footnote{\url{https://github.com/twbs/bootstrap}}におけるイシューの自動ラベリングを実装した~\cite{kalyanasundaram2014automatic}．
この研究ではイシューのタイトルと説明文をナイーブベイズ分類器で学習させることで，85\%の精度でbootstrapのリポジトリのイシューのラベルを推定することができた．

GitHubのイシューは開発における課題管理だけでなく，オープンソースソフトウェア（OSS）開発参加の入り口としても活用されている~\cite{github_analysis}．
外部の開発者の参加を奨励するリポジトリでは，誰でもイシューを作成したり，公開されているイシューに取り組みプルリクエストを送信したりすることができる．
先行研究では，こうしたGitHubを中心とする共同開発に関する分析が報告されている．
Dabbishらはリポジトリ管理者にとってOSS開発を導入する利点を明らかにするために，OSSのリポジトリ管理者24人にインタビュー調査を行った~\cite{Social_Coding_in_GitHub}．
その結果，OSS開発を導入することで，開発しているシステムにおけるユーザの需要理解や，ソフトウェア開発者の採用活動を円滑に行えることが明らかとなった．
またThungらは，OSS開発の導入により外部開発者とどの程度繋がりを作ることができるのかを明らかにするために，約100,000のリポジトリと30,000人の開発者のデータの分析を行った~\cite{Network_Structure_of_Social_Coding}．
その結果，OSS開発を推奨するリポジトリの管理者は優位に多くの外部開発者とコネクションを作ることに成功していることが分かった．

このように，ソフトウェア開発プロセスの改善を目的として，これまでにGitHubのイシューの大規模な分析が行われてきた．
一方で本研究では，プログラミング演習問題への転用を目的として，GitHubのイシューの抽出および分類を行うため，新たな分類手法が必要となる．


\section{まとめ}
これまでに提案されたプログラミング演習問題の自動生成手法は，テンプレートの書き換えや教科書の例題の活用によって実現されており，実際のソフトウェア開発において必要な知識の習得には焦点を当てていない．
また，GitHubの理解とソフトウェア開発プロセスの改善を目的とした研究が行われてきたが，GitHubのデータを教育目的に転用することの実現可能性は明らかとなっていない．
そこで本研究では，GitHub上に実在するイシューとプルリクエストを転用することで，実践的なプログラミング演習問題を提供することを目的とする．
本研究により既存のプログラミング学習環境にはない独自の演習問題を生成できるようになることが期待される．
